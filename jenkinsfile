pipeline {
    agent any


    stages {
       
        
    
        
          
        
stage('install') {
             steps {
                sh "mvn install -Dmaven.test.skip=true -P prod"
                }
            }

stage('Build') {
          
            steps {
                sh "mvn package  "
                 
            }
           } 
          
   stage('deploy') {
             steps {
                 
                 deploy adapters: [tomcat7(credentialsId: 'tomcatpipeline', path: '', url: 'http://192.168.220.137:8081')], contextPath: 'index', war: '**/*war'
  }
  
    }
    stage('Docker') {
          
            steps {
                sh "mvn package"
                 
            }
           } 
    stage('Notification') {
            steps {
                        mail bcc: 'hehe', body: 'Validatio <project started a build you may check it ', cc: 'hehe', from: '', replyTo: '', subject: 'build is triggred', to: 'annabi.mabrouka99@gmail.com'

            }
        }
    }
}
